{"version":3,"sources":["webpack://personal-site/./src/components/postlist.js","webpack://personal-site/./src/pages/blog.js"],"names":["PostPreview","post","divider","mb","start","width","to","slug","size","frontmatter","title","excerpt","sx","letterSpacing","fontFamily","fontSize","textTransform","Date","date","toDateString","data","useStaticQuery","posts","blog","slice","lastPost","mt","map","length","mode"],"mappings":"8NAQMA,EAAc,SAAC,GAAD,IAAGC,EAAH,EAAGA,KAAH,IAASC,eAAT,gBAClB,gBAAC,KAAD,KACE,gBAAC,KAAD,CAAKC,GAAI,CAAC,EAAG,IACX,gBAAC,KAAD,CAAQC,MAAO,CAAC,EAAG,EAAG,EAAG,GAAIC,MAAO,CAAC,EAAG,EAAG,EAAG,KAC5C,gBAAC,KAAD,CAAMC,GAAE,SAAWL,EAAKM,MACtB,gBAAC,IAAD,CAAaC,KAAK,MAAMP,EAAKQ,YAAYC,UAI/C,gBAAC,KAAD,KACE,gBAAC,KAAD,CAAQN,MAAO,CAAC,EAAG,EAAG,EAAG,GAAIC,MAAO,CAAC,EAAG,IACtC,gBAAC,KAAD,KAAOJ,EAAKU,UAEd,gBAAC,KAAD,CAAQP,MAAO,CAAC,EAAG,EAAG,EAAG,GAAIC,MAAO,CAAC,EAAG,IACtC,gBAAC,KAAD,CACEO,GAAI,CACFC,cAAe,YACfC,WAAY,OACZC,SAAU,EACVC,cAAe,cAGhB,IAAIC,KAAKhB,EAAKQ,YAAYS,MAAMC,kBAIvC,gBAAC,KAAD,KACE,gBAAC,KAAD,CAAQf,MAAO,CAAC,EAAG,EAAG,EAAG,GAAIC,MAAO,CAAC,EAAG,EAAG,EAAG,IAC3CH,GAAW,+BAwCpB,EAlCiB,WACf,IAAMkB,GAAOC,QAAe,cAkBtBC,EAAQF,EAAKG,KAAKD,MAAME,MAAM,GAAI,GAClCC,EAAWL,EAAKG,KAAKD,MAAME,OAAO,GAExC,OACE,gBAAC,KAAD,CAAKE,GAAI,CAAC,EAAG,GAAIvB,GAAI,CAAC,EAAG,IACtBmB,EAAMK,KAAI,SAAC1B,GAAD,OACT,gBAACD,EAAD,CAAaC,KAAMA,OAEpBwB,EAASG,OAAS,GACjB,gBAAC5B,EAAD,CAAaC,KAAMwB,EAAS,GAAIvB,SAAS,MClDjD,EARkB,WAChB,OACE,gBAAC,IAAD,CAAQ2B,KAAK,SACX,gBAAC,EAAD","file":"component---src-pages-blog-js-5e0beadba15b2001505c.js","sourcesContent":["import React from \"react\";\nimport { graphql, Link, useStaticQuery } from \"gatsby\";\n\nimport { Row, Column } from \"@carbonplan/components\";\nimport { Box, Text } from \"theme-ui\";\n\nimport ArrowButton from \"./arrowbutton\";\n\nconst PostPreview = ({ post, divider = true }) => (\n  <Box>\n    <Row mb={[1, 2]}>\n      <Column start={[1, 1, 2, 2]} width={[6, 6, 8, 12]}>\n        <Link to={`/blog/${post.slug}`}>\n          <ArrowButton size=\"lg\">{post.frontmatter.title}</ArrowButton>\n        </Link>\n      </Column>\n    </Row>\n    <Row>\n      <Column start={[1, 1, 2, 2]} width={[5, 5]}>\n        <Text>{post.excerpt}</Text>\n      </Column>\n      <Column start={[1, 6, 7, 7]} width={[3, 3]}>\n        <Text\n          sx={{\n            letterSpacing: \"smallcaps\",\n            fontFamily: \"mono\",\n            fontSize: 1,\n            textTransform: \"uppercase\",\n          }}\n        >\n          {new Date(post.frontmatter.date).toDateString()}\n        </Text>\n      </Column>\n    </Row>\n    <Row>\n      <Column start={[1, 1, 2, 2]} width={[6, 8, 8, 8]}>\n        {divider && <hr />}\n      </Column>\n    </Row>\n  </Box>\n);\n\nconst PostList = () => {\n  const data = useStaticQuery(graphql`\n    {\n      blog: allMdx(\n        sort: { fields: frontmatter___date, order: DESC }\n        filter: { frontmatter: { type: { eq: \"post\" } } }\n      ) {\n        posts: nodes {\n          slug\n          excerpt\n          frontmatter {\n            date\n            title\n          }\n        }\n      }\n    }\n  `);\n\n  const posts = data.blog.posts.slice(0, -1);\n  const lastPost = data.blog.posts.slice(-1);\n\n  return (\n    <Box mt={[3, 5]} mb={[3, 5]}>\n      {posts.map((post) => (\n        <PostPreview post={post} />\n      ))}\n      {lastPost.length > 0 && (\n        <PostPreview post={lastPost[0]} divider={false} />\n      )}\n    </Box>\n  );\n};\n\nexport default PostList;\n","import * as React from \"react\"\n\n// load fonts and css\nimport \"@carbonplan/components/globals.css\"\n// import \"@carbonplan/components/fonts.css\"\n// import \"katex/dist/katex.min.css\"\n\n// components\nimport Layout from \"../components/layout\"\nimport PostList from \"../components/postlist\"\n\n// markup\nconst IndexPage = () => {\n  return (\n    <Layout mode=\"mouse\">\n      <PostList />\n    </Layout>\n  )\n}\n\nexport default IndexPage\n"],"sourceRoot":""}